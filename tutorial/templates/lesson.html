{% extends '_lesson_page.html' %}
{% load lesson %}

{% block headers %}
	{{ block.super }}

	<link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/lesson.css">
{% endblock %}

{% block navbar_active_lesson %}
	<ul class="lesson_sections">
		{# TODO table of contents #}
		{{ lesson.contents|lesson_toc_markdown }}
		<li class="problems_link">
			<a href="#problems">Задачи</a>
		</li>
	</ul>
{% endblock %}

{% block lesson_body %}
	<h1 class="page-header"><small>Занятие {{ lesson.order_num }}.</small> {{ lesson.title }}</h1>

	{{ lesson.contents|lesson_markdown }}

	{% if lesson.problems %}
		<hr>
		<div id="problems">
			<h2>Задачи:</h2>
			<ol class="lesson_problems">
				{% for problem in lesson.problems.all %}
					<li>
						<a href="{% url 'problem' lesson.urlname problem.urlname %}">{{ problem.name }}</a>
					</li>
				{% endfor %}
			</ol>
		</div>
	{% endif %}

	{% if lesson.external_contest_link %}
		<h4><a href="{{ lesson.external_contest_link }}">Внешний контест с задачами</a></h4>
	{% endif %}
{% endblock %}
